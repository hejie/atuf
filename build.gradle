apply from: "config.gradle"
buildscript {
    repositories {
        jcenter()
        mavenLocal()//本地maven
/*        maven {
//            url '~/.m2/repository/omd'
//            url "http://192.168.102.255:8081/repository/maven-group/"

        }*/
    }

    dependencies {
        classpath "com.taobao.android:atlasplugin:+"
    }

}

allprojects {
    repositories {
        jcenter()
        mavenLocal()//本地maven
/*        maven {
//            url '~/.m2/repository/omd'
            url "http://192.168.102.255:8081/repository/maven-group/"
        }*/
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

def disableDebugBuild() {
    //project.tasks包含了所有的tasks，下面的findAll是寻找那些名字中带debug的Task。
    //返回值保存到targetTasks容器中
    def targetTasks = project.tasks.findAll { task ->
        task.name.contains("XXXX")
    }
    targetTasks.each {
        println "disable debug task  :${it.name}"
        it.setEnabled false
    }
}

task disableDebugBuild

project.afterEvaluate {
    disableDebugBuild()
}